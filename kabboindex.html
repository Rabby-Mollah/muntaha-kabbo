<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malaysia Checklist for Kabbo</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: auto;
      padding: 20px;
    }
    h2 {
      background: #ff4444;
      color: white;
      padding: 12px;
      border-radius: 8px;
      font-size: 22px;
      margin-top: 0;
      text-align: center;
    }
    .section, .sub-section {
      margin-bottom: 20px;
      border-radius: 8px;
      background: white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      overflow: hidden;
    }
    .section-header, .sub-section-header {
      padding: 12px 16px;
      font-weight: bold;
      cursor: pointer;
      border-bottom: 1px solid #ccc;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .section-content, .sub-section-content {
      padding: 10px 16px;
      display: none;
    }
    ul {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    li {
      background: #fafafa;
      padding: 10px;
      margin-bottom: 6px;
      border-radius: 6px;
      border: 1px solid #ddd;
      display: flex;
      align-items: center;
    }
    input[type="checkbox"] {
      margin-right: 12px;
      transform: scale(1.2);
    }
    .toggle-icon {
      font-size: 18px;
      transition: transform 0.2s ease;
    }
    .open .toggle-icon {
      transform: rotate(90deg);
    }
    .food .section-header {
      background-color: #6f4e37;
      color: white;
    }
    .place .section-header {
      background-color: #2e7d32;
      color: white;
    }
    .footer {
      text-align: center;
      background: #003333;
      color: #00ff99;
      font-weight: bold;
      padding: 30px 0;
      font-size: 24px;
      border-radius: 8px;
      margin-top: 20px;
    }
    .chart-container {
      width: 100%;
      max-width: 400px;
      margin: 20px auto;
    }
    @media (max-width: 600px) {
      body {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Kabbo's Malaysia Travel Checklist</h2>

    <div class="section food">
      <div class="section-header" onclick="toggleSection(this)">🍛 Traditional Malaysian Dishes <span class="toggle-icon">▶</span></div>
      <div class="section-content">
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">🇲🇾 Malay Dishes <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Nasi Lemak</li><li><input type="checkbox">Rendang</li><li><input type="checkbox">Satay</li><li><input type="checkbox">Laksa (Asam/Curry)</li><li><input type="checkbox">Nasi Kerabu</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">🇨🇳 Chinese-Malaysian Dishes <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Char Kway Teow</li><li><input type="checkbox">Hokkien Mee</li><li><input type="checkbox">Chee Cheong Fun</li><li><input type="checkbox">Yong Tau Foo</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">🇮🇳 Indian-Malaysian Dishes <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Roti Canai</li><li><input type="checkbox">Nasi Kandar</li><li><input type="checkbox">Thosai (Dosa)</li><li><input type="checkbox">Tandoori Chicken</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">🍢 Street Food & Snacks <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Apam Balik</li><li><input type="checkbox">Cendol</li><li><input type="checkbox">Rojak</li><li><input type="checkbox">Lok Lok</li><li><input type="checkbox">Keropok Lekor</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">🍹 Drinks & Desserts <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Teh Tarik</li><li><input type="checkbox">Milo Dinosaur</li><li><input type="checkbox">ABC (Ais Batu Campur)</li><li><input type="checkbox">Kuih-muih</li></ul></div></div>
      </div>
    </div>

    <div class="section place">
      <div class="section-header" onclick="toggleSection(this)">🌏 Places to Visit in Malaysia <span class="toggle-icon">▶</span></div>
      <div class="section-content">
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Kuala Lumpur <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Petronas Twin Towers</li><li><input type="checkbox">Batu Caves</li><li><input type="checkbox">Bukit Bintang</li><li><input type="checkbox">KL Tower</li><li><input type="checkbox">Thean Hou Temple</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Penang <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">George Town</li><li><input type="checkbox">Kek Lok Si Temple</li><li><input type="checkbox">Penang Hill</li><li><input type="checkbox">Penang Street Food</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Langkawi <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Langkawi Sky Bridge</li><li><input type="checkbox">Pantai Cenang</li><li><input type="checkbox">Island Hopping</li><li><input type="checkbox">Mangrove Tours</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Cameron Highlands <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Tea Plantations</li><li><input type="checkbox">Strawberry Farms</li><li><input type="checkbox">Mossy Forest</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Melaka <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Jonker Street</li><li><input type="checkbox">St. Paul's Hill</li><li><input type="checkbox">Dutch Square</li><li><input type="checkbox">Melaka River Cruise</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Taman Negara <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Canopy Walkway</li><li><input type="checkbox">Night Jungle Walk</li><li><input type="checkbox">Orang Asli Village</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Sabah <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Mount Kinabalu</li><li><input type="checkbox">Kota Kinabalu</li><li><input type="checkbox">Sipadan Island</li><li><input type="checkbox">Kinabatangan River</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Sarawak <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Kuching</li><li><input type="checkbox">Bako National Park</li><li><input type="checkbox">Semenggoh Wildlife Centre</li></ul></div></div>
        <div class="sub-section"><div class="sub-section-header" onclick="toggleSection(this)">📍 Off-the-Beaten-Path Islands <span class="toggle-icon">▶</span></div><div class="sub-section-content"><ul><li><input type="checkbox">Perhentian Islands</li><li><input type="checkbox">Tioman Island</li><li><input type="checkbox">Redang Island</li></ul></div></div>
      </div>
    </div>

    <div class="chart-container">
      <canvas id="progressChart"></canvas>
    </div>

    <div class="footer">Love from your Rabby</div>
  </div>

  <script>
    function toggleSection(header) {
      const parent = header.parentElement;
      const content = header.nextElementSibling;
      const icon = header.querySelector('.toggle-icon');
      const isOpen = parent.classList.contains('open');

      if (parent.classList.contains('section')) {
        document.querySelectorAll('.section').forEach(sec => {
          sec.classList.remove('open');
          sec.querySelector('.section-content').style.display = 'none';
          sec.querySelector('.toggle-icon').textContent = '▶';
        });
      }

      if (!isOpen) {
        parent.classList.add('open');
        content.style.display = 'block';
        icon.textContent = '▼';
      } else {
        parent.classList.remove('open');
        content.style.display = 'none';
        icon.textContent = '▶';
      }
    }

    function updateChart() {
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      const total = checkboxes.length;
      const checked = Array.from(checkboxes).filter(cb => cb.checked).length;

      const data = {
        labels: ["Done", "Remaining"],
        datasets: [{
          data: [checked, total - checked],
          backgroundColor: ["#2e7d32", "#ccc"],
        }]
      };

      const config = {
        type: 'pie',
        data: data,
        options: {
          responsive: true,
          plugins: {
            legend: { position: 'bottom' },
            title: {
              display: true,
              text: `Checklist Completion: ${((checked / total) * 100).toFixed(1)}%`
            }
          }
        }
      };

      const chartCanvas = document.getElementById('progressChart');
      if (window.myChart) window.myChart.destroy();
      window.myChart = new Chart(chartCanvas, config);
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
        cb.addEventListener('change', updateChart);
      });
      updateChart();
    });
  </script>
</body>
</html>
